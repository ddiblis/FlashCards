{"ast":null,"code":"import _objectSpread from\"/home/iblis/src/school-projects/FlashCards/flascardProject/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/iblis/src/school-projects/FlashCards/flascardProject/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{useParams,Link,useHistory}from\"react-router-dom\";import{readCard,readDeck,updateCard}from\"../utils/api\";export default function CreateCard(props){var edit=props.edit;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),selectedDeck=_useState2[0],setSelectedDeck=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),selectedCard=_useState4[0],setSelectedCard=_useState4[1];var _useParams=useParams(),deckId=_useParams.deckId,cardId=_useParams.cardId;var _useState5=useState({front:\"\",back:\"\",id:cardId,deckId:parseInt(deckId)}),_useState6=_slicedToArray(_useState5,2),form=_useState6[0],setForm=_useState6[1];var handleFrontChange=function handleFrontChange(event){return setVar({front:event.target.value});};var handleBackChange=function handleBackChange(event){return setVar({back:event.target.value});};var history=useHistory();var setVar=function setVar(values){setForm(_objectSpread(_objectSpread({},form),values));};useEffect(function(){var abortController=new AbortController();readDeck(deckId,abortController.signal).then(function(deck){setSelectedDeck(deck);readCard(cardId,abortController.signal).then(setSelectedCard);});},[deckId,cardId]);return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"nav\",{\"aria-label\":\"breadcrumb\"},/*#__PURE__*/React.createElement(\"ol\",{className:\"breadcrumb\"},/*#__PURE__*/React.createElement(\"li\",{className:\"breadcrumb-item\"},/*#__PURE__*/React.createElement(Link,{to:\"/\"},\"Home\")),/*#__PURE__*/React.createElement(\"li\",{className:\"breadcrumb-item active\",\"aria-current\":\"page\"},/*#__PURE__*/React.createElement(Link,{to:\"/decks/\".concat(selectedDeck.id)},selectedDeck.name)),/*#__PURE__*/React.createElement(\"li\",{className:\"breadcrumb-item active\",\"aria-current\":\"page\"},\"Edit Card \"+cardId))),/*#__PURE__*/React.createElement(\"h3\",null,\"Edit Card\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:function onSubmit(){updateCard(form);history.push(\"/decks/\".concat(deckId));}},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"front\"},\"Front\"),\" \",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"textarea\",{id:\"front\",type:\"text\",name:\"front\",defaultValue:selectedCard.front,onChange:handleFrontChange,style:{width:\"100%\",height:\"150px\"},value:form.front}),\" \",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"back\"},\"Back\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"textarea\",{id:\"back\",type:\"text\",name:\"back\",defaultValue:selectedCard.back,onChange:handleBackChange,style:{width:\"100%\",height:\"150px\"},value:form.back}),\" \",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{style:{justifyContent:\"flex-start\"}},/*#__PURE__*/React.createElement(Link,{to:\"/decks/\".concat(selectedDeck.id)},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-secondary\",style:{marginLeft:\"5px\"}},\"Done\")),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-primary\",style:{marginLeft:\"5px\"}},\"Save\"))));}","map":{"version":3,"sources":["/home/iblis/src/school-projects/FlashCards/flascardProject/Project_Flashcards_Qualified_1/src/Layout/CreateCard.jsx"],"names":["React","useState","useEffect","useParams","Link","useHistory","readCard","readDeck","updateCard","CreateCard","props","edit","selectedDeck","setSelectedDeck","selectedCard","setSelectedCard","deckId","cardId","front","back","id","parseInt","form","setForm","handleFrontChange","event","setVar","target","value","handleBackChange","history","values","abortController","AbortController","signal","then","deck","name","push","width","height","justifyContent","marginLeft"],"mappings":"+ZAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,SAAT,CAAoBC,IAApB,CAA0BC,UAA1B,KAA4C,kBAA5C,CAEA,OAASC,QAAT,CAAmBC,QAAnB,CAA6BC,UAA7B,KAA+C,cAA/C,CAEA,cAAe,SAASC,CAAAA,UAAT,CAAoBC,KAApB,CAA2B,IAChCC,CAAAA,IADgC,CACvBD,KADuB,CAChCC,IADgC,eAEAV,QAAQ,CAAC,EAAD,CAFR,wCAEjCW,YAFiC,eAEnBC,eAFmB,8BAGAZ,QAAQ,CAAC,EAAD,CAHR,yCAGjCa,YAHiC,eAGnBC,eAHmB,8BAIbZ,SAAS,EAJI,CAIhCa,MAJgC,YAIhCA,MAJgC,CAIxBC,MAJwB,YAIxBA,MAJwB,gBAKhBhB,QAAQ,CAAC,CAC/BiB,KAAK,CAAE,EADwB,CAE/BC,IAAI,CAAE,EAFyB,CAG/BC,EAAE,CAAEH,MAH2B,CAI/BD,MAAM,CAAEK,QAAQ,CAACL,MAAD,CAJe,CAAD,CALQ,yCAKjCM,IALiC,eAK3BC,OAL2B,eAWxC,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,KAAD,QAAWC,CAAAA,MAAM,CAAC,CAAER,KAAK,CAAEO,KAAK,CAACE,MAAN,CAAaC,KAAtB,CAAD,CAAjB,EAA1B,CACA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACJ,KAAD,QAAWC,CAAAA,MAAM,CAAC,CAAEP,IAAI,CAAEM,KAAK,CAACE,MAAN,CAAaC,KAArB,CAAD,CAAjB,EAAzB,CACA,GAAME,CAAAA,OAAO,CAAGzB,UAAU,EAA1B,CAEA,GAAMqB,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACK,MAAD,CAAY,CACzBR,OAAO,gCAAMD,IAAN,EAAeS,MAAf,EAAP,CACD,CAFD,CAIA7B,SAAS,CAAC,UAAM,CACd,GAAM8B,CAAAA,eAAe,CAAG,GAAIC,CAAAA,eAAJ,EAAxB,CACA1B,QAAQ,CAACS,MAAD,CAASgB,eAAe,CAACE,MAAzB,CAAR,CAAyCC,IAAzC,CAA8C,SAACC,IAAD,CAAU,CACtDvB,eAAe,CAACuB,IAAD,CAAf,CACA9B,QAAQ,CAACW,MAAD,CAASe,eAAe,CAACE,MAAzB,CAAR,CAAyCC,IAAzC,CAA8CpB,eAA9C,EACD,CAHD,EAID,CANQ,CAMN,CAACC,MAAD,CAASC,MAAT,CANM,CAAT,CAQA,mBACE,2BAAK,SAAS,CAAC,WAAf,eACE,2BAAK,aAAW,YAAhB,eACE,0BAAI,SAAS,CAAC,YAAd,eACE,0BAAI,SAAS,CAAC,iBAAd,eACE,oBAAC,IAAD,EAAM,EAAE,CAAC,GAAT,SADF,CADF,cAIE,0BAAI,SAAS,CAAC,wBAAd,CAAuC,eAAa,MAApD,eACE,oBAAC,IAAD,EAAM,EAAE,kBAAYL,YAAY,CAACQ,EAAzB,CAAR,EAAwCR,YAAY,CAACyB,IAArD,CADF,CAJF,cAOE,0BAAI,SAAS,CAAC,wBAAd,CAAuC,eAAa,MAApD,EACG,aAAepB,MADlB,CAPF,CADF,CADF,cAcE,0CAdF,cAeE,4BACE,QAAQ,CAAE,mBAAM,CACdT,UAAU,CAACc,IAAD,CAAV,CACAQ,OAAO,CAACQ,IAAR,kBAAuBtB,MAAvB,GACD,CAJH,eAME,6BAAO,OAAO,CAAC,OAAf,UANF,kBAMuC,8BANvC,cAOE,gCACE,EAAE,CAAC,OADL,CAEE,IAAI,CAAC,MAFP,CAGE,IAAI,CAAC,OAHP,CAIE,YAAY,CAAEF,YAAY,CAACI,KAJ7B,CAKE,QAAQ,CAAEM,iBALZ,CAME,KAAK,CAAE,CAAEe,KAAK,CAAE,MAAT,CAAiBC,MAAM,CAAE,OAAzB,CANT,CAOE,KAAK,CAAElB,IAAI,CAACJ,KAPd,EAPF,CAeK,GAfL,cAgBE,8BAhBF,cAiBE,8BAjBF,cAkBE,6BAAO,OAAO,CAAC,MAAf,SAlBF,cAmBE,8BAnBF,cAoBE,gCACE,EAAE,CAAC,MADL,CAEE,IAAI,CAAC,MAFP,CAGE,IAAI,CAAC,MAHP,CAIE,YAAY,CAAEJ,YAAY,CAACK,IAJ7B,CAKE,QAAQ,CAAEU,gBALZ,CAME,KAAK,CAAE,CAAEU,KAAK,CAAE,MAAT,CAAiBC,MAAM,CAAE,OAAzB,CANT,CAOE,KAAK,CAAElB,IAAI,CAACH,IAPd,EApBF,CA4BK,GA5BL,cA6BE,8BA7BF,cA8BE,2BAAK,KAAK,CAAE,CAAEsB,cAAc,CAAE,YAAlB,CAAZ,eACE,oBAAC,IAAD,EAAM,EAAE,kBAAY7B,YAAY,CAACQ,EAAzB,CAAR,eACE,8BACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,mBAFZ,CAGE,KAAK,CAAE,CAAEsB,UAAU,CAAE,KAAd,CAHT,SADF,CADF,cAUE,8BACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,iBAFZ,CAGE,KAAK,CAAE,CAAEA,UAAU,CAAE,KAAd,CAHT,SAVF,CA9BF,CAfF,CADF,CAmED","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams, Link, useHistory } from \"react-router-dom\";\n\nimport { readCard, readDeck, updateCard } from \"../utils/api\";\n\nexport default function CreateCard(props) {\n  const { edit } = props\n  const [selectedDeck, setSelectedDeck] = useState([]);\n  const [selectedCard, setSelectedCard] = useState([]);\n  const { deckId, cardId } = useParams();\n  const [form, setForm] = useState({\n    front: \"\",\n    back: \"\",\n    id: cardId,\n    deckId: parseInt(deckId),\n  });\n  const handleFrontChange = (event) => setVar({ front: event.target.value });\n  const handleBackChange = (event) => setVar({ back: event.target.value });\n  const history = useHistory();\n\n  const setVar = (values) => {\n    setForm({ ...form, ...values });\n  };\n\n  useEffect(() => {\n    const abortController = new AbortController();\n    readDeck(deckId, abortController.signal).then((deck) => {\n      setSelectedDeck(deck);\n      readCard(cardId, abortController.signal).then(setSelectedCard);\n    });\n  }, [deckId, cardId]);\n\n  return (\n    <div className=\"container\">\n      <nav aria-label=\"breadcrumb\">\n        <ol className=\"breadcrumb\">\n          <li className=\"breadcrumb-item\">\n            <Link to=\"/\">Home</Link>\n          </li>\n          <li className=\"breadcrumb-item active\" aria-current=\"page\">\n            <Link to={`/decks/${selectedDeck.id}`}>{selectedDeck.name}</Link>\n          </li>\n          <li className=\"breadcrumb-item active\" aria-current=\"page\">\n            {\"Edit Card \" + cardId}\n          </li>\n        </ol>\n      </nav>\n      <h3>Edit Card</h3>\n      <form\n        onSubmit={() => {\n          updateCard(form);\n          history.push(`/decks/${deckId}`);\n        }}\n      >\n        <label htmlFor=\"front\">Front</label> <br />\n        <textarea\n          id=\"front\"\n          type=\"text\"\n          name=\"front\"\n          defaultValue={selectedCard.front}\n          onChange={handleFrontChange}\n          style={{ width: \"100%\", height: \"150px\" }}\n          value={form.front}\n        />{\" \"}\n        <br />\n        <br />\n        <label htmlFor=\"back\">Back</label>\n        <br />\n        <textarea\n          id=\"back\"\n          type=\"text\"\n          name=\"back\"\n          defaultValue={selectedCard.back}\n          onChange={handleBackChange}\n          style={{ width: \"100%\", height: \"150px\" }}\n          value={form.back}\n        />{\" \"}\n        <br />\n        <div style={{ justifyContent: \"flex-start\" }}>\n          <Link to={`/decks/${selectedDeck.id}`}>\n            <button\n              type=\"button\"\n              className=\"btn btn-secondary\"\n              style={{ marginLeft: \"5px\" }}\n            >\n              Done\n            </button>\n          </Link>\n          <button\n            type=\"submit\"\n            className=\"btn btn-primary\"\n            style={{ marginLeft: \"5px\" }}\n          >\n            Save\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}